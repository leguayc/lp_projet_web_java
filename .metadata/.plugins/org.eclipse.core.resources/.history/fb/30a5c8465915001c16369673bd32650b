package BatailleCartes;

public class Bataille {

	public static void main(String[] args) {
		Deck deck = new Deck();
		Player p1 = new Player();
		Player p2 = new Player();
		Card c1;
		Card c2;
		int compareCard = 0;
		String str = "";
		
		deck.shuffleAndDistribute(p1, p2);
		
		while(!p1.hasWon() && !p2.hasWon()) {
			c1 = p1.tireCarte();
			c2 = p2.tireCarte();
			compareCard = c1.compareCard(c2);
			
			switch(compareCard) {
				case -1: { 
					str = "J1 gagne.";
					p1.addCarte(c1);
					p1.addCarte(c2);
					break;
				}
				case 0: { 
					str = "Egalité.";
					p1.addCarte(c1);
					p2.addCarte(c2);
					break;
				}
				case 1: { 
					str = "J2 gagne.";
					p2.addCarte(c1);
					p2.addCarte(c2);
					break; 
				}
				default: { str = "Error"; break; }
			}

			System.out.println(str + " " + c1 + " (J1) contre " + c2 + " (J2).");
		}
		
		System.out.println("\nJ1 : " + p1.getDeckSize() + " / J2 : " + p2.getDeckSize());
		if(p1.hasWon()) {
			System.out.println("J1 a gagné la partie !");
		}
		else if(p2.hasWon()) {
			System.out.println("J2 a gagné la partie !");
		}
	}

}
